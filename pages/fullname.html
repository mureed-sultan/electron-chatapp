<!DOCTYPE html>
<html>
  <head>
    <title>Full Name</title>
    <link rel="stylesheet" href="../assets/styles/main.css" />
  </head>
  <body>
    <p style="display: none" id="warning-text">Please Enter Your Full Name</p>
    <div class="container">
      <img src="../assets/images/signup-logo.jpeg" alt="" />
      <p class="subheading">What's your full name?</p>
      <div class="input-container">
        <input
          type="text"
          class="first-name input-padding"
          placeholder="First Name"
        />
      </div>
      <div class="input-container">
        <input
          type="text"
          class="last-name input-padding"
          placeholder="Last Name"
        />
      </div>
      <button class="next-button" onclick="saveUserDataAndNavigate()">
        Next
      </button>
    </div>
    <script src="../script/navigation.js"></script>
    <script>
      function saveUserDataAndNavigate() {
        const firstName = document.querySelector(".first-name").value;
        const lastName = document.querySelector(".last-name").value;
        const phoneNo = getURLParameter("phoneNo");
        const warningText = document.getElementById("warning-text");

        // Create a user object with the required data
        const userObj = {
          _type: "user",
          firstName: firstName,
          lastName: lastName,
          phoneNumber: phoneNo,
        };
        if (!userObj.firstName || !userObj.lastName) {
          warningText.style.display = "block";
          setTimeout(() => {
            warningText.style.display = "none";
          }, 5000);
        } else {
          window.api.send("save-user-data", userObj);
        }
      }
    </script>
  </body>
</html>
